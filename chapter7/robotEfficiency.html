<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <h2>Hello there! Inspect the changes from console.</h2>
    <!-- write robot faster than goalOrientedRobot -->

<script src="https://eloquentjavascript.net/code/chapter/07_robot.js"></script>
<script src="https://eloquentjavascript.net/code/animatevillage.js"></script>

<script>
    function superRobot({place, parcels}, route) {
        if(route.length == 0) {
            let routes = parcels.map(parcel => {
                if(parcel.place != place) {
                    return {
                        route: findRoute(roadGraph, place, parcel.place),
                        pickUp: false
                    };
                }
            });

            function score({route, pickUp}) {
                return (pickUp ? 0.5 : 0) - route.length;
            }
            route = routes.reduce((a, b) => score(a) > score(b) ? a : b).route;
        }
        return {direction: route[0], memory: route.slice(1)};
    }
    runRobotAnimation(VillageState.random(), superRobot, []);
</script>
    <!-- May 2020-->
</body>
</html>