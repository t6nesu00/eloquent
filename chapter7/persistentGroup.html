<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <h2>Hello there! Inspect the changes from console.</h2>
    <!-- write class PGroup similar to Group class in chapter 6 -->

<script src="https://eloquentjavascript.net/code/chapter/07_robot.js"></script>
<script src="https://eloquentjavascript.net/code/animatevillage.js"></script>

<script>
    class PGroup {
        constructor(elements) {
            this.elements = elements;
        }
        // add method
        add(value) {
            if(this.has(value)) {
                return this;
            }
            else {
                return new PGroup(this.elements.concat([value]));
            }
        }
        // delete method
        delete(value) {
            if(!this.has(value)) return this;
            return new PGroup (this.elements.filter(m => m !== value));
        }

        // has method
        has(value) {
            return this.elements.includes(value);
        }
    }
    PGroup.empty = new PGroup([]);

    let a = PGroup.empty.add("a");
    let ab = a.add("b");
    let b = ab.delete("a");

    console.log(b.has("b"));
    // → true
    console.log(a.has("b"));
    // → false
    console.log(b.has("a"));
    // → false
</script>
    <!-- May 2020-->
</body>
</html>